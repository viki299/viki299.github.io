<!DOCTYPE html>
<html>
<head>
    <title>酒吧销售数据可视化</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chart-box {
            width: 800px;
            margin: 30px auto;
            padding: 20px;
            background: #f5f7fb;
            border-radius: 10px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- 综合对比图 -->
    <div class="chart-box">
        <canvas id="mainChart"></canvas>
    </div>

    <!-- 分项对比图 -->
    <div class="chart-box">
        <canvas id="compareChart"></canvas>
    </div>

    <!-- 占比分析图 -->
    <div class="chart-box">
        <canvas id="ratioChart"></canvas>
    </div>

    <script>
        // 综合对比图（修复版）
        new Chart(document.getElementById('mainChart'), {
            type: 'bar',
            data: {
                labels: ['去年第三周', '今年第二周', '今年第三周'],
                datasets: [{
                    label: '整体营业额',
                    data: [102719, 71260, 78832],
                    backgroundColor: ['#9CA3AF', '#3B82F6', '#10B981'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: '整体营业额趋势分析（单位：元）',
                        font: { size: 16 }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: '营业额'
                        }
                    }
                },
                animation: {
                    duration: 2000,
                    easing: 'easeOutQuart'
                }
            }
        });

        // 分项对比图（修复版）
        new Chart(document.getElementById('compareChart'), {
            type: 'bar',
            data: {
                labels: ['门票酒水', '自购酒水'],
                datasets: [{
                    label: '去年第三周',
                    data: [76690, 26029],
                    backgroundColor: '#6B7280'
                },{
                    label: '今年第三周',
                    data: [47880, 30952],
                    backgroundColor: '#3B82F6'
                }]
            },
            options: {
                plugins: {
                    title: {
                        display: true,
                        text: '分项业务对比（单位：元）'
                    }
                },
                scales: {
                    y: { beginAtZero: true }
                },
                animation: {
                    duration: 1500
                }
            }
        });

        // 占比分析图（修复版）
        new Chart(document.getElementById('ratioChart'), {
            type: 'pie',
            data: {
                labels: ['门票自带酒水 (60.7%)', '观众自购酒水 (39.3%)'],
                datasets: [{
                    data: [60.7, 39.3],
                    backgroundColor: ['#6B7280', '#3B82F6'],
                    hoverOffset: 20
                }]
            },
            options: {
                plugins: {
                    title: {
                        display: true,
                        text: '业务构成分析（今年第三周）'
                    },
                    legend: {
                        position: 'right'
                    }
                }
            }
        });
    </script>
</body>
</html>